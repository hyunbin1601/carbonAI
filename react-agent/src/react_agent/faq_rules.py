"""FAQ 규칙 및 오프너 질문 답변 데이터베이스

모든 오프너 질문에 대한 미리 생성된 답변을 포함합니다.
FAQ 매칭은 정규화된 질문 문자열 기반으로 이루어집니다.
"""

# 탄소배출권 카테고리

FAQ_DATABASE = {
    # 배출권 구매
    "배출권 구매 절차": """💡 **배출권 구매 절차**

배출권 구매는 NET-Z 플랫폼을 통해 간편하게 진행하실 수 있습니다.

📚 **구매 절차:**

```mermaid
flowchart TD
    A["NET-Z 회원가입"] --> B["기업 인증 완료"]
    B --> C["배출권 조회 및 선택"]
    C --> D["구매 신청서 작성"]
    D --> E["가격 협의 및 계약"]
    E --> F["대금 결제"]
    F --> G["배출권 이전 등록"]
    G --> H["구매 완료"]
```

✅ **필요 서류:**
1. 사업자등록증 사본
2. 법인등기부등본
3. 배출권 거래 신청서
4. 대표자 신분증 사본

✅ **소요 기간:**
- 회원가입 및 인증: 1-2 영업일
- 구매 신청 후 완료: 3-5 영업일

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 배출권 구매 비용은 얼마인가요?
🔹 구매한 배출권은 언제 사용 가능한가요?
🔹 소량 구매도 가능한가요?
""",

    # KOC KCU 차이
    "koc kcu 차이": """💡 **KOC와 KCU의 차이점**

KOC와 KCU는 국내 배출권 시장의 핵심 배출권 유형입니다.

📚 **주요 차이:**

| 구분 | KOC | KCU |
|------|-----|-----|
| **정식명칭** | Korean Offset Credit | Korean Credit Unit |
| **발급 주체** | 외부사업 인증위원회 | 정부 (환경부) |
| **취득 방법** | 감축 프로젝트 수행 | 정부 할당 |
| **유효기간** | 2026년까지 | 2026년까지 |
| **거래 가능** | 가능 | 가능 |
| **전환 비율** | 1:1 (KAU 전환 가능) | 1:1 |

✅ **선택 가이드:**
- **KOC**: 외부 감축 프로젝트를 통해 직접 생성하고자 하는 기업
- **KCU**: 정부 할당량을 받거나 시장에서 구매하려는 기업

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 KAU는 무엇인가요?
🔹 어떤 배출권을 구매하는 것이 유리한가요?
🔹 배출권 유형별 가격 차이는 얼마나 되나요?
""",

    # 배출권 판매
    "배출권 판매 방법": """💡 **배출권 판매 방법**

보유하신 배출권을 NET-Z 플랫폼을 통해 판매하실 수 있습니다.

📚 **판매 절차:**

```mermaid
flowchart TD
    A["보유 배출권 확인"] --> B["NET-Z 판매 등록"]
    B --> C["판매 가격 설정"]
    C --> D["구매자 매칭"]
    D --> E["가격 협의 및 계약"]
    E --> F["배출권 이전"]
    F --> G["대금 수령"]
    G --> H["판매 완료"]
```

✅ **판매 전략:**
1. **시장 가격 모니터링**: 적정 판매 시기 파악
2. **수량 분할 판매**: 리스크 분산 및 가격 최적화
3. **장기 계약**: 안정적인 수익 확보

✅ **판매 수수료:**
- NET-Z 플랫폼 수수료: 거래액의 1-2%
- 정부 이전 수수료: 건당 5,000원

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 현재 배출권 시장 가격은 얼마인가요?
🔹 판매 대금은 언제 받을 수 있나요?
🔹 배출권 판매 시 세금은 어떻게 되나요?
""",

    # 배출권 시장 가격
    "배출권 시장 가격": """💡 **배출권 시장 가격 현황**

배출권 가격은 시장 수급에 따라 변동됩니다.

📚 **최근 시장 동향 (2024년 기준):**
- **평균 거래가**: 30,000-35,000원/tCO2
- **변동 폭**: ±10-15%
- **거래량**: 월평균 500만 톤

```agchart
{
  "data": [
    { "month": "1월", "price": 28000 },
    { "month": "2월", "price": 29500 },
    { "month": "3월", "price": 31000 },
    { "month": "4월", "price": 33000 },
    { "month": "5월", "price": 32500 },
    { "month": "6월", "price": 34000 }
  ],
  "series": [{
    "type": "line",
    "xKey": "month",
    "yKey": "price",
    "yName": "가격 (원/tCO2)"
  }],
  "title": {
    "text": "2024년 상반기 배출권 가격 추이"
  }
}
```

✅ **가격 영향 요인:**
1. 정부 할당량 조정
2. 산업계 배출량 변화
3. 국제 탄소 시장 동향
4. 경제 성장률

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 배출권 가격은 앞으로 어떻게 변할까요?
🔹 지금이 구매 적기인가요?
🔹 가격 변동을 실시간으로 확인할 수 있나요?
""",

    # 배출권 보유 관리
    "배출권 보유 관리": """💡 **배출권 보유 관리 방법**

보유 배출권을 효율적으로 관리하는 방법을 안내드립니다.

📚 **관리 핵심 전략:**

1. **유효기간 관리**
   - KOC/KCU: 2026년까지 사용 가능
   - 만료 전 사용 또는 판매 계획 수립

2. **포트폴리오 최적화**
   - 자체 배출량 대비 보유량 분석
   - 부족/잉여량에 따른 구매/판매 전략

3. **시장 모니터링**
   - 가격 변동 추적
   - 최적 거래 시점 포착

✅ **NET-Z 관리 기능:**
- 실시간 보유량 조회
- 유효기간 알림
- 거래 내역 관리
- 시장 분석 리포트

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 보유 배출권 조회는 어떻게 하나요?
🔹 배출권 사용 시기는 언제가 좋나요?
🔹 배출권을 담보로 대출이 가능한가요?
""",

    # 배출권 유형별 특징
    "배출권 유형별 특징": """💡 **배출권 유형별 특징**

국내 배출권 시장의 주요 배출권 유형을 비교해드립니다.

📚 **유형별 상세 특징:**

**1. KOC (Korean Offset Credit)**
- 외부 감축 프로젝트를 통해 생성
- 신재생에너지, 에너지 효율 개선 등
- 인증 절차: 타당성 평가 → 모니터링 → 검증
- 발급 소요 기간: 6-12개월

**2. KCU (Korean Credit Unit)**
- 정부가 기업에 무상 할당
- 할당 기준: 과거 배출량, 업종 평균 등
- 할당 주기: 매년
- 추가 구매 가능

**3. KAU (Korean Allowance Unit)**
- 국제 크레딧 (CER, ERU 등)을 국내용으로 전환
- 전환 한도: 연간 배출량의 10%
- 국제 시장과 연동

✅ **선택 가이드:**
- **자체 감축 가능**: KOC 생성 추진
- **빠른 확보 필요**: KCU 구매
- **국제 연계**: KAU 활용

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 우리 회사에 적합한 배출권 유형은?
🔹 배출권 유형을 혼합해서 사용할 수 있나요?
🔹 외부사업 프로젝트는 어떻게 시작하나요?
""",

    # 배출권 거래 주의사항
    "배출권 거래 주의사항": """💡 **배출권 거래 시 주의사항**

안전하고 효율적인 배출권 거래를 위한 체크리스트입니다.

📚 **필수 확인 사항:**

**거래 전 확인:**
1. ✅ 거래 상대방 신원 확인
2. ✅ 배출권 소유권 및 유효성 확인
3. ✅ 시장 가격 대비 거래가격 적정성
4. ✅ 계약서 조건 꼼꼼히 검토

**거래 중 주의:**
- 계약 내용 명확히 문서화
- 대금 결제와 배출권 이전 순서 확인
- 플랫폼 수수료 및 세금 고려

**거래 후 관리:**
- 배출권 이전 등록 완료 확인
- 거래 내역 보관 (세무 신고용)
- 보유량 업데이트 확인

⚠️ **주의해야 할 사항:**
- 유효기간 만료된 배출권 거래 금지
- 허위 정보 제공 시 법적 책임
- 시세 조작 행위 엄격 금지
- 이중 거래 방지

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 배출권 거래 분쟁 발생 시 어떻게 하나요?
🔹 거래 취소가 가능한가요?
🔹 안전한 거래를 위한 플랫폼 기능은?
""",

    # ==================== 규제대응 카테고리 ====================

    # 탄소 배출량 보고 의무
    "탄소 배출량 보고 의무": """💡 **탄소 배출량 보고 의무**

일정 규모 이상 기업은 탄소 배출량 보고 의무가 있습니다.

📚 **보고 의무 대상:**
- 연간 온실가스 배출량 **125,000 tCO2-eq 이상** 기업
- 또는 연간 에너지 사용량 **500 TJ 이상** 기업

**보고 절차:**

```mermaid
flowchart TD
    A["배출량 측정 및 산정"] --> B["명세서 작성"]
    B --> C["외부 검증 의뢰"]
    C --> D["검증 완료"]
    D --> E["환경부 제출"]
    E --> F["승인 및 확정"]
```

✅ **제출 일정:**
- 명세서 제출: 매년 **3월 31일**까지
- 검증 완료: 매년 **6월 30일**까지
- 미제출 시 과태료: 최대 **1,000만원**

✅ **작성 가이드:**
1. 배출원 파악 및 분류
2. 활동자료 수집 (연료 사용량 등)
3. 배출계수 적용
4. 산정식에 따른 계산

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 배출량 산정 방법을 자세히 알려주세요
🔹 외부 검증기관은 어떻게 선정하나요?
🔹 보고서 작성 대행 서비스가 있나요?
""",

    # Scope 측정 방법
    "scope 배출량 측정": """💡 **Scope 1, 2, 3 배출량 측정 방법**

온실가스 배출량은 3가지 Scope로 분류됩니다.

📚 **Scope 분류 및 측정:**

**Scope 1 (직접 배출)**
- 기업이 직접 소유/통제하는 배출원
- 예시: 보일러, 차량, 공정배출
- 측정: 연료 사용량 × 배출계수

**Scope 2 (간접 배출)**
- 구매한 전기, 열 사용으로 인한 배출
- 예시: 전력 사용, 스팀 사용
- 측정: 전력 사용량 × 전력 배출계수

**Scope 3 (기타 간접 배출)**
- 가치사슬 전반의 배출
- 예시: 원료 구매, 제품 운송, 직원 출퇴근
- 측정: 활동 데이터 × 해당 배출계수

✅ **측정 단계:**
1. 배출원 식별 및 분류
2. 활동자료 수집
3. 적절한 배출계수 선택
4. 배출량 산정 (활동자료 × 배출계수)
5. 품질 검증

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 Scope 3 측정이 의무인가요?
🔹 배출계수는 어디서 구할 수 있나요?
🔹 측정 소프트웨어 추천해주세요
""",

    # 탄소 중립 전략
    "탄소 중립 목표 전략": """💡 **탄소 중립 목표 달성 전략**

2050 탄소중립을 위한 기업 전략을 안내드립니다.

📚 **단계별 추진 전략:**

**1단계: 현황 분석 (1년차)**
- 전체 배출량 측정 (Scope 1, 2, 3)
- 주요 배출원 식별
- 감축 잠재량 분석

**2단계: 목표 수립 (1-2년차)**
- 중장기 감축 목표 설정
- 연도별 마일스톤 설정
- 투자 계획 수립

**3단계: 감축 실행 (2-10년차)**
- 에너지 효율화
- 재생에너지 전환
- 공정 개선
- 친환경 원료 사용

**4단계: 상쇄 및 인증 (지속)**
- 잔여 배출량 상쇄 (배출권 구매)
- 외부사업 프로젝트 추진
- 탄소중립 인증 취득

✅ **핵심 감축 방법:**
1. **에너지 전환**: 태양광, 풍력 등
2. **효율 개선**: LED, 고효율 설비
3. **공정 혁신**: 저탄소 공법 도입
4. **순환경제**: 재활용, 재사용

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 탄소중립 컨설팅 서비스를 받고 싶어요
🔹 RE100이란 무엇인가요?
🔹 중소기업도 탄소중립이 가능한가요?
""",

    # 규제 변경사항
    "규제 변경사항": """💡 **최신 탄소 규제 변경사항**

2024-2025년 주요 규제 변경 내용을 안내드립니다.

📚 **주요 변경사항:**

**1. 배출권 할당 기준 강화 (2024년)**
- 무상할당 비율 감소: 97% → 90%
- 유상할당 확대
- 벤치마크 방식 강화

**2. 제4차 계획기간 시작 (2024-2026)**
- 총 할당량: 연평균 6억톤 수준
- 업종별 세부 할당 기준 적용
- 중소기업 지원 확대

**3. ESG 공시 의무화 (2025년)**
- 자산 2조원 이상 상장사 의무
- Scope 1, 2 공시 필수
- Scope 3 권고

**4. 탄소국경조정제도 (CBAM) 대응 (2026년)**
- EU 수출 기업 영향
- 철강, 시멘트, 비료 등 우선 적용

✅ **대응 방안:**
- 정기적인 규제 모니터링
- 사전 준비 및 시스템 구축
- 전문가 자문 활용

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 CBAM이 우리 회사에 미치는 영향은?
🔹 규제 변경 알림을 받을 수 있나요?
🔹 법규 위반 시 처벌은 어떻게 되나요?
""",

    # ==================== 고객상담 카테고리 ====================

    # 후시파트너스 서비스
    "후시파트너스 서비스": """💡 **후시파트너스 서비스 소개**

탄소 배출 관리부터 거래까지 원스톱 서비스를 제공합니다.

📚 **주요 서비스:**

**1. NET-Z 플랫폼**
- 배출권 거래 중개
- 배출량 관리 시스템
- 실시간 시장 정보
- ESG 보고서 자동 생성

**2. 컨설팅 서비스**
- 배출량 산정 및 검증 지원
- 감축 전략 수립
- 규제 대응 컨설팅
- 탄소중립 로드맵 설계

**3. 교육 및 트레이닝**
- 담당자 역량 강화 교육
- 규제 및 시장 동향 세미나
- 실무 워크샵

**4. 기술 솔루션**
- IoT 센서 기반 실시간 모니터링
- AI 예측 분석
- 블록체인 거래 인증

✅ **차별화 포인트:**
- 20년+ 업계 경험
- 전문가 팀 (환경공학, 경제학, IT)
- 정부 및 유관기관 협력
- 맞춤형 솔루션

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 서비스 이용 요금은 얼마인가요?
🔹 무료 체험이 가능한가요?
🔹 기업 규모별 추천 서비스는?
""",

    # NET-Z 플랫폼
    "netz 플랫폼 사용법": """💡 **NET-Z 플랫폼 사용 가이드**

NET-Z는 탄소 배출권 거래 및 관리를 위한 올인원 플랫폼입니다.

📚 **주요 기능:**

**1. 대시보드**
- 보유 배출권 현황
- 배출량 추이
- 시장 동향

**2. 거래 기능**
- 배출권 검색 및 조회
- 구매/판매 주문
- 거래 내역 관리

**3. 배출량 관리**
- 배출원별 입력
- 자동 계산
- 보고서 생성

**4. 분석 및 리포트**
- 배출량 분석
- 목표 대비 진행률
- ESG 리포트

✅ **시작하기:**
1. www.netz.kr 접속
2. 회원가입 (기업 정보 입력)
3. 인증 완료 (1-2일 소요)
4. 플랫폼 사용 시작

✅ **모바일 앱:**
- iOS / Android 지원
- 주요 기능 모바일 최적화
- 알림 기능

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 NET-Z 데모를 체험해볼 수 있나요?
🔹 API 연동이 가능한가요?
🔹 데이터 보안은 어떻게 되나요?
""",

    # 상담 예약
    "상담 예약": """💡 **전문가 상담 예약 안내**

탄소 배출 관리 전문가와 1:1 상담을 받으실 수 있습니다.

📚 **상담 유형:**

**1. 초기 상담 (무료)**
- 소요 시간: 30분
- 내용: 기본 현황 파악, 서비스 소개
- 방식: 화상 또는 전화

**2. 심화 컨설팅 (유료)**
- 소요 시간: 1-2시간
- 내용: 구체적인 전략 수립, 실행 계획
- 방식: 대면 또는 화상

**3. 정기 컨설팅 (계약)**
- 월 1-2회 정기 미팅
- 연간 계약
- 전담 컨설턴트 배정

✅ **예약 방법:**
1. NET-Z 플랫폼 내 '상담 예약' 메뉴
2. 전화: 02-1234-5678
3. 이메일: consult@hoosi.partners
4. 카카오톡: @CarbonAI

✅ **준비사항:**
- 회사 소개 자료
- 최근 배출량 데이터 (있는 경우)
- 구체적인 질문 사항

---
**💡 다음 질문이 도움이 될 수 있어요:**
🔹 상담 전에 준비할 자료는?
🔹 온라인 상담도 가능한가요?
🔹 상담 후 계약은 필수인가요?
""",
}


# ==================== FAQ 매칭 헬퍼 함수 ====================

def get_all_faq_keys():
    """모든 FAQ 키 목록 반환"""
    return list(FAQ_DATABASE.keys())


def get_faq_by_category():
    """카테고리별 FAQ 그룹화"""
    categories = {
        "탄소배출권": [
            "배출권 구매 절차",
            "koc kcu 차이",
            "배출권 판매 방법",
            "배출권 시장 가격",
            "배출권 보유 관리",
            "배출권 유형별 특징",
            "배출권 거래 주의사항",
        ],
        "규제대응": [
            "탄소 배출량 보고 의무",
            "scope 배출량 측정",
            "탄소 중립 목표 전략",
            "규제 변경사항",
        ],
        "고객상담": [
            "후시파트너스 서비스",
            "netz 플랫폼 사용법",
            "상담 예약",
        ],
    }
    return categories
